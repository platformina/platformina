/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):"undefined"!=typeof module&&module.exports?e(require("jquery")):e(jQuery)}((function(e){"use strict";var n="left",t="right",r="up",i="down",l="in",o="out",a="none",u="auto",s="swipe",c="pinch",p="tap",h="doubletap",f="longtap",d="horizontal",g="vertical",w="all",v=10,T="start",b="move",y="end",E="cancel",m="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!m,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!m,O="TouchSwipe";function M(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=a),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=e.extend({},e.fn.swipe.defaults,n),this.each((function(){var t=e(this),r=t.data(O);r||(r=new D(this,n),t.data(O,r))}))}function D(M,D){D=e.extend({},D);var P=m||S||!D.fallbackToMouseEvents,L=P?S?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",R=P?S?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",k=P?S?x?"MSPointerUp":"pointerup":"touchend":"mouseup",A=P?S?"mouseleave":null:"mouseleave",I=S?x?"MSPointerCancel":"pointercancel":"touchcancel",U=0,j=null,N=null,H=0,_=0,q=0,Q=1,C=0,F=0,X=null,Y=e(M),V="start",W=0,z={},G=0,Z=0,B=0,J=0,K=0,$=null,ee=null;try{Y.bind(L,ne),Y.bind(I,ie)}catch(n){e.error("events not supported "+L+","+I+" on jQuery.swipe")}function ne(l){if(!0!==Y.data(O+"_intouch")&&!(e(l.target).closest(D.excludedElements,Y).length>0)){var o=l.originalEvent?l.originalEvent:l;if(!o.pointerType||"mouse"!=o.pointerType||0!=D.fallbackToMouseEvents){var a,u,s=o.touches,c=s?s[0]:o;return V=T,s?W=s.length:!1!==D.preventDefaultEvents&&l.preventDefault(),U=0,j=null,N=null,F=null,H=0,_=0,q=0,Q=1,C=0,(u={})[n]=Pe(n),u[t]=Pe(t),u[r]=Pe(r),u[i]=Pe(i),X=u,me(),Oe(0,c),!s||W===D.fingers||D.fingers===w||de()?(G=Ae(),2==W&&(Oe(1,s[1]),_=q=Re(z[0].start,z[1].start)),(D.swipeStatus||D.pinchStatus)&&(a=ue(o,V))):a=!1,!1===a?(ue(o,V=E),a):(D.hold&&(ee=setTimeout(e.proxy((function(){Y.trigger("hold",[o.target]),D.hold&&(a=D.hold.call(Y,o,o.target))}),this),D.longTapThreshold)),Se(!0),null)}}}function te(s){var c=s.originalEvent?s.originalEvent:s;if(V!==y&&V!==E&&!xe()){var p,h,f,v=c.touches,T=Me(v?v[0]:c);if(Z=Ae(),v&&(W=v.length),D.hold&&clearTimeout(ee),V=b,2==W&&(0==_?(Oe(1,v[1]),_=q=Re(z[0].start,z[1].start)):(Me(v[1]),q=Re(z[0].end,z[1].end),z[0].end,z[1].end,F=Q<1?o:l),Q=(q/_*1).toFixed(2),C=Math.abs(_-q)),W===D.fingers||D.fingers===w||!v||de()){if(j=ke(T.start,T.end),function(e,l){if(!1===D.preventDefaultEvents)return;if(D.allowPageScroll===a)e.preventDefault();else{var o=D.allowPageScroll===u;switch(l){case n:(D.swipeLeft&&o||!o&&D.allowPageScroll!=d)&&e.preventDefault();break;case t:(D.swipeRight&&o||!o&&D.allowPageScroll!=d)&&e.preventDefault();break;case r:(D.swipeUp&&o||!o&&D.allowPageScroll!=g)&&e.preventDefault();break;case i:(D.swipeDown&&o||!o&&D.allowPageScroll!=g)&&e.preventDefault()}}}(s,N=ke(T.last,T.end)),h=T.start,f=T.end,U=Math.round(Math.sqrt(Math.pow(f.x-h.x,2)+Math.pow(f.y-h.y,2))),H=Le(),function(e,n){if(e==a)return;n=Math.max(n,De(e)),X[e].distance=n}(j,U),p=ue(c,V),!D.triggerOnTouchEnd||D.triggerOnTouchLeave){var m=!0;if(D.triggerOnTouchLeave){var x=function(n){var t=(n=e(n)).offset(),r={left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()};return r}(this);m=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(T.end,x)}!D.triggerOnTouchEnd&&m?V=ae(b):D.triggerOnTouchLeave&&!m&&(V=ae(y)),V!=E&&V!=y||ue(c,V)}}else ue(c,V=E);!1===p&&ue(c,V=E)}}function re(e){var n=e.originalEvent?e.originalEvent:e,t=n.touches;if(t){if(t.length&&!xe())return function(e){B=Ae(),J=e.touches.length+1}(n),!0;if(t.length&&xe())return!0}return xe()&&(W=J),Z=Ae(),H=Le(),pe()||!ce()?ue(n,V=E):D.triggerOnTouchEnd||!1===D.triggerOnTouchEnd&&V===b?(!1!==D.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),ue(n,V=y)):!D.triggerOnTouchEnd&&be()?se(n,V=y,p):V===b&&ue(n,V=E),Se(!1),null}function ie(){W=0,Z=0,G=0,_=0,q=0,Q=1,me(),Se(!1)}function le(e){var n=e.originalEvent?e.originalEvent:e;D.triggerOnTouchLeave&&ue(n,V=ae(y))}function oe(){Y.unbind(L,ne),Y.unbind(I,ie),Y.unbind(R,te),Y.unbind(k,re),A&&Y.unbind(A,le),Se(!1)}function ae(e){var n=e,t=he(),r=ce(),i=pe();return!t||i?n=E:!r||e!=b||D.triggerOnTouchEnd&&!D.triggerOnTouchLeave?!r&&e==y&&D.triggerOnTouchLeave&&(n=E):n=y,n}function ue(e,n){var t,r=e.touches;return(ge()&&we()||we())&&(t=se(e,n,s)),(fe()&&de()||de())&&!1!==t&&(t=se(e,n,c)),Ee()&&ye()&&!1!==t?t=se(e,n,h):H>D.longTapThreshold&&U<v&&D.longTap&&!1!==t?t=se(e,n,f):1!==W&&m||!(isNaN(U)||U<D.threshold)||!be()||!1===t||(t=se(e,n,p)),n===E&&ie(),n===y&&(r&&r.length||ie()),t}function se(a,u,d){var g;if(d==s){if(Y.trigger("swipeStatus",[u,j||null,U||0,H||0,W,z,N]),D.swipeStatus&&!1===(g=D.swipeStatus.call(Y,a,u,j||null,U||0,H||0,W,z,N)))return!1;if(u==y&&ge()){if(clearTimeout($),clearTimeout(ee),Y.trigger("swipe",[j,U,H,W,z,N]),D.swipe&&!1===(g=D.swipe.call(Y,a,j,U,H,W,z,N)))return!1;switch(j){case n:Y.trigger("swipeLeft",[j,U,H,W,z,N]),D.swipeLeft&&(g=D.swipeLeft.call(Y,a,j,U,H,W,z,N));break;case t:Y.trigger("swipeRight",[j,U,H,W,z,N]),D.swipeRight&&(g=D.swipeRight.call(Y,a,j,U,H,W,z,N));break;case r:Y.trigger("swipeUp",[j,U,H,W,z,N]),D.swipeUp&&(g=D.swipeUp.call(Y,a,j,U,H,W,z,N));break;case i:Y.trigger("swipeDown",[j,U,H,W,z,N]),D.swipeDown&&(g=D.swipeDown.call(Y,a,j,U,H,W,z,N))}}}if(d==c){if(Y.trigger("pinchStatus",[u,F||null,C||0,H||0,W,Q,z]),D.pinchStatus&&!1===(g=D.pinchStatus.call(Y,a,u,F||null,C||0,H||0,W,Q,z)))return!1;if(u==y&&fe())switch(F){case l:Y.trigger("pinchIn",[F||null,C||0,H||0,W,Q,z]),D.pinchIn&&(g=D.pinchIn.call(Y,a,F||null,C||0,H||0,W,Q,z));break;case o:Y.trigger("pinchOut",[F||null,C||0,H||0,W,Q,z]),D.pinchOut&&(g=D.pinchOut.call(Y,a,F||null,C||0,H||0,W,Q,z))}}return d==p?u!==E&&u!==y||(clearTimeout($),clearTimeout(ee),ye()&&!Ee()?(K=Ae(),$=setTimeout(e.proxy((function(){K=null,Y.trigger("tap",[a.target]),D.tap&&(g=D.tap.call(Y,a,a.target))}),this),D.doubleTapThreshold)):(K=null,Y.trigger("tap",[a.target]),D.tap&&(g=D.tap.call(Y,a,a.target)))):d==h?u!==E&&u!==y||(clearTimeout($),clearTimeout(ee),K=null,Y.trigger("doubletap",[a.target]),D.doubleTap&&(g=D.doubleTap.call(Y,a,a.target))):d==f&&(u!==E&&u!==y||(clearTimeout($),K=null,Y.trigger("longtap",[a.target]),D.longTap&&(g=D.longTap.call(Y,a,a.target)))),g}function ce(){var e=!0;return null!==D.threshold&&(e=U>=D.threshold),e}function pe(){var e=!1;return null!==D.cancelThreshold&&null!==j&&(e=De(j)-U>=D.cancelThreshold),e}function he(){return!D.maxTimeThreshold||!(H>=D.maxTimeThreshold)}function fe(){var e=ve(),n=Te(),t=null===D.pinchThreshold||C>=D.pinchThreshold;return e&&n&&t}function de(){return!!(D.pinchStatus||D.pinchIn||D.pinchOut)}function ge(){var e=he(),n=ce(),t=ve(),r=Te();return!pe()&&r&&t&&n&&e}function we(){return!!(D.swipe||D.swipeStatus||D.swipeLeft||D.swipeRight||D.swipeUp||D.swipeDown)}function ve(){return W===D.fingers||D.fingers===w||!m}function Te(){return 0!==z[0].end.x}function be(){return!!D.tap}function ye(){return!!D.doubleTap}function Ee(){if(null==K)return!1;var e=Ae();return ye()&&e-K<=D.doubleTapThreshold}function me(){B=0,J=0}function xe(){var e=!1;B&&(Ae()-B<=D.fingerReleaseThreshold&&(e=!0));return e}function Se(e){Y&&(!0===e?(Y.bind(R,te),Y.bind(k,re),A&&Y.bind(A,le)):(Y.unbind(R,te,!1),Y.unbind(k,re,!1),A&&Y.unbind(A,le,!1)),Y.data(O+"_intouch",!0===e))}function Oe(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.last.x=t.end.x=n.pageX||n.clientX,t.start.y=t.last.y=t.end.y=n.pageY||n.clientY,z[e]=t,t}function Me(e){var n=void 0!==e.identifier?e.identifier:0,t=function(e){return z[e]||null}(n);return null===t&&(t=Oe(n,e)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function De(e){if(X[e])return X[e].distance}function Pe(e){return{direction:e,distance:0}}function Le(){return Z-G}function Re(e,n){var t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+r*r))}function ke(e,l){if(u=l,(o=e).x==u.x&&o.y==u.y)return a;var o,u,s=function(e,n){var t=e.x-n.x,r=n.y-e.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return l<0&&(l=360-Math.abs(l)),l}(e,l);return s<=45&&s>=0||s<=360&&s>=315?n:s>=135&&s<=225?t:s>45&&s<135?i:r}function Ae(){return(new Date).getTime()}this.enable=function(){return this.disable(),Y.bind(L,ne),Y.bind(I,ie),Y},this.disable=function(){return oe(),Y},this.destroy=function(){oe(),Y.data(O,null),Y=null},this.option=function(n,t){if("object"==typeof n)D=e.extend(D,n);else if(void 0!==D[n]){if(void 0===t)return D[n];D[n]=t}else{if(!n)return D;e.error("Option "+n+" does not exist on jQuery.swipe.options")}return null}}e.fn.swipe=function(n){var t=e(this),r=t.data(O);if(r&&"string"==typeof n){if(r[n])return r[n].apply(r,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof n)r.option.apply(r,arguments);else if(!(r||"object"!=typeof n&&n))return M.apply(this,arguments);return t},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:b,PHASE_END:y,PHASE_CANCEL:E},e.fn.swipe.directions={LEFT:n,RIGHT:t,UP:r,DOWN:i,IN:l,OUT:o},e.fn.swipe.pageScroll={NONE:a,HORIZONTAL:d,VERTICAL:g,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}}));
